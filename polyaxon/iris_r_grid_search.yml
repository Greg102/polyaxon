---
version: 1

kind: group

tags: [examples]

environment:
  resources:
    cpu:
      limits: 1
      requests: 0.5
    memory:
      limits: 4000
      requests: 1000

hptuning:
  concurrency: 3

  matrix:
    n_tree:
      range: [3, 6, 1]  # [start, stop, step]
    node_size:
      values: [80, 100, 120]

build:
  image: r-base:3.6.1
  build_steps:
    - "R -e \"install.packages('randomForest', repos='http://cran.r-project.org')\""

run:
  cmd: Rscript bin/iris.R --ntree={{ n_tree }} --nodesize={{ node_size }}
